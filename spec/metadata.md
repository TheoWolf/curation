Databrary Ingest Metadata Schema
================================

Below are the metadata elements for ingesting datasets into Databrary along with descriptions, formatting constraints, required fields, and example input for each field. This is what metadata and how it should be formatted in the ingest spreadsheet.

### Session Metadata


| field              | required      | multiple_column | description                                                                                                                   | format                                                    | example                                                         | notes                                          |
|--------------------|---------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|-----------------------------------------------------------------|------------------------------------------------|
| name               | no            | no              | A label or identifier for the session (if applicable)                                                                         | Text                                                      | CHP-088                                                         |                                                |
| key                | yes           | no              | A unique identifier for this session. This will be important for modifying existing sessions in subsequent ingest operations. | Alphanumeric                                              | 6002_09                                                         |                                                |
| date               | yes           | no              | Date for the session                                                                                                          | Date in ISO-8601                                          | 2010-09-12                                                      |                                                |
| participantID      | yes           | no              | Unique identifier for a participant                                                                                           | Alphanumeric                                              | 6002                                                            |                                                |
| top                | no            | no              | Indicator that the container is a top level container (and therefore used for materials and is not a study session).          | "top" or ""                                               | top                                                             |                                                |
| pilot              | no            | no              | Indicator that a session was a study pilot for exploring the study protocol and therefore not included in any analyses.       | "pilot" or ""                                             | pilot                                                           |                                                |
| exclusion          | no            | no              | Reason for session not being included in the study                                                                            | Text                                                      | Procedural/experimenter error                                   |                                                |
| setting            | no            | no              | Setting in which the study session took place                                                                                 | Text                                                      | Lab                                                             |                                                |
| country            | no            | no              | Country in which the study session took place                                                                                 | Text                                                      | US                                                              |                                                |
| state              | no            | no              | State in which the study session took place                                                                                   | Text                                                      | NY                                                              |                                                |
| language           | no            | no              | Language in which the study session was conducted in                                                                          | Text                                                      | English (*or as* English, Spanish *if more than one*)           |                                                |
| release            | yes           | no              | The participant(s) release for this session                                                                                   | Text                                                      | None, PRIVATE, SHARED, EXCERPTS, or PUBLIC                      | Default to more restricted if most than one    |
| condition          | no            | no              | An experimenter-determined manipulation (within or between sessions)                                                          | Text                                                      | Baby and Mom *or* Mom Only                                      |                                                |
| group              | no            | no              | A grouping determined by an aspect of the data (e.g., participant ability, age, grade level, experience)                      | Text                                                      | 8 Months *or* Cohort 2                                          |                                                |
| tasks              | no            | no              | A list of particular tasks, activities, or phases of the session or study                                                     | Semi-colon separated text                                 | Risk Room;Stranger;Puzzle Activity                              |                                                |
| task_positions     | no            | no              | A list of time segments indicating where tasks ought to be positioned on timeline (if positioned)                             | Semi-colon separated integer milliseconds or hh:mm:ss     | 0-194000;195000-310000 *or* 00:00:00-00:03:14;00:03:15-00:05:10 | Only one file per cell                         |
| file_{#}           | yes(if files) | yes             | Filename as it appears on server or its ID from assisted curation, field header is file_1, file_2, file_n                     | text *or* integer                                         | 4098_risk_room.mov *or* 45667                                   | Only one file position per cell                |
| fposition_{#}      | no            | yes             | Starting position of file on timeline (if positioned)                                                                         | integer milliseconds or hh:mm:ss                          | 00:10:15 *or* 615000                                            | Only one per cell                              |
| fname_{#}          | no            | yes             | A desired name for the file on the timeline (is blank by default)                                                             | text                                                      | Risk Room                                                       | Only one per cell                              |
| fclassification_{#}| no            | no              | Individual release for a file (overrides the session release)                                                                 | text                                                      | None, PRIVATE, SHARED, EXCERPTS, or PUBLIC                      | Only one per cell                              |
| transcode_options  | no            | no              | Any additional ffmpeg transcode options to be run at the time of ingest                                                       | text                                                      | -vf negate                                                      | Currently only works for one file per session  |
| clip_in_{#}        | no            | no              | A time segment which should be the only part of a video uploaded to the session                                               | integer milliseconds or hh:mm:ss                          | 0-194000 *or* 00:00:00-00:03:14                                 | Can also use "#" and "$" for beginning and end |
| clip_out_{#}       | no            | no              | A time segment which should be removed from a video before uploaded to the session                                            | integer milliseconds or hh:mm:ss                          | 0-194000 *or* 00:00:00-00:03:14                                 | Can also use "#" and "$" for beginning and end |



### Participant Metadata

Note: For metadata elements such as race and ethnicity, we want to make sure, as much as possible, that data contributors adhere to the NIH categories for reporting (see [schema](https://raw.githubusercontent.com/databrary/curation/master/spec/volume.json) for options) and that they provide both a race AND ethnicity where they have gathered that information from participants (e.g., white AND hispanic, asian AND not hispanic).

| field              | required           | multiple_column | description                                                                                                                   | format                                                    | example                                                         | notes                                                                                                  |
|--------------------|--------------------|-----------------|-------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| participantID      | yes                | no              | Unique identifier for a participant                                                                                           | Alphanumeric                                              | 6002                                                            |                                                                                                        |
| birthdate          | recommended        | no              | Birthdate of participant                                                                                                      | Date in ISO-8601                                          | 2007-08-09                                                      |                                                                                                        |
| gender             | recommended        | no              | Gender of participant                                                                                                         | Text                                                      | Male *or* Female *or* {Custom Text}                             |                                                                                                        |
| race               | recommended        | no              | Race of participant as specified by NIH reporting guidelines                                                                  | Text                                                      | Asian                                                           | see [schema](https://raw.githubusercontent.com/databrary/curation/master/spec/volume.json) for options |
| ethnicity          | recommended        | no              | Ethnicity of paricipant as specified by NIH reporting guidelines                                                              | Text                                                      | Not Hispanic or Latino                                          | see [schema](https://raw.githubusercontent.com/databrary/curation/master/spec/volume.json) for options |
| language           | recommended        | no              | Primary language(s) spoken by and to participant (assumed "English" by default)                                               | Comma-separated Text                                      | Spanish, English                                                |                                                                                                        |
| disability         | recommended        | no              | Any developmental, physical, or mental disability or disabilities (assumed "typical" by default)                              | Text                                                      | Autism                                                          |                                                                                                        |
| gestational age    | recommended        | no              | Pregnancy age in weeks between last menstrual period and birth (or pre-natal observation)                                     | Integer                                                   | 38                                                              |                                                                                                        |
| pregnancy term     | recommended        | no              | "Full term", "Preterm", or other gestational term (assumed "Full term" by default)                                            | Text                                                      | Full term                                                       |                                                                                                        |
| birth weight       | recommended        | no              | Weight at birth (in grams, e.g., 3250)                                                                                        | Integer                                                   | 3250                                                            |                                                                                                        |